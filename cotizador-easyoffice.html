<div class="search-system-container">
  <div class="tab-header-smart">
    <button class="tab-btn-smart active" data-tab="servicios">
      <i class="fas fa-briefcase"></i>
      Servicios
    </button>
    <button class="tab-btn-smart" data-tab="otros">
      <i class="fas fa-cogs"></i>
      Otros
    </button>
  </div>

  <div class="property-tab-section-smart">
    
    <!-- TAB SERVICIOS -->
    <div class="tab-content-smart" id="servicios">
      <div class="filters-smart-servicios" id="filters-container">
        
        <!-- TIPO DE SERVICIO -->
        <div class="filter-group-smart">
          <label class="filter-label-smart">
            <i class="fas fa-building"></i>
            Tipo de Servicio
          </label>
          <div class="select-wrapper-smart">
            <select id="tipo-servicio" onchange="updateServicioOptions()">
              <option value="">Seleccionar servicio</option>
              <option value="oficina-virtual">üåê Oficina Virtual</option>
              <option value="sala-juntas">ü§ù Sala de Juntas</option>
              <option value="oficina-privada">üè¢ Oficina Privada</option>
              <option value="cowork">üë• Cowork</option>
              <option value="llave-mano">üîë Llave en Mano</option>
            </select>
            <i class="fas fa-chevron-down select-arrow-smart"></i>
          </div>
        </div>

        <!-- OPCIONES OFICINA VIRTUAL -->
        <div class="filter-group-smart hidden" id="virtual-options">
          <label class="filter-label-smart">
            <i class="fas fa-box"></i>
            Paquete
          </label>
          <div class="select-wrapper-smart">
            <select id="paquete-virtual" onchange="updateCiudadOptions()">
              <option value="">Seleccionar paquete</option>
              <option value="basico">üì¶ Paquete b√°sico</option>
              <option value="plus">‚≠ê Paquete plus</option>
            </select>
            <i class="fas fa-chevron-down select-arrow-smart"></i>
          </div>
        </div>

        <!-- CIUDAD -->
        <div class="filter-group-smart hidden" id="ciudad-options">
          <label class="filter-label-smart">
            <i class="fas fa-map-marker-alt"></i>
            Ciudad
          </label>
          <div class="select-wrapper-smart">
            <select id="ciudad" onchange="updateCapacidadOptions()">
              <option value="">Seleccionar ciudad</option>
              <!-- Las opciones se llenan din√°micamente desde JavaScript -->
            </select>
            <i class="fas fa-chevron-down select-arrow-smart"></i>
          </div>
        </div>

        <!-- CAPACIDAD (para Sala de Juntas, Oficina Privada y Llave en Mano) -->
        <div class="filter-group-smart hidden" id="capacidad-options">
          <label class="filter-label-smart">
            <i class="fas fa-users"></i>
            <span id="capacidad-label">Capacidad</span>
          </label>
          <div class="select-wrapper-smart">
            <select id="capacidad" onchange="handleCapacidadChange()">
              <option value="">Seleccionar capacidad</option>
            </select>
            <i class="fas fa-chevron-down select-arrow-smart"></i>
          </div>
        </div>

        <!-- TIPO DE CONTRATO (solo para Llave en Mano) -->
        <div class="filter-group-smart hidden" id="contrato-options">
          <label class="filter-label-smart">
            <i class="fas fa-file-contract"></i>
            Tipo de Contrato
          </label>
          <div class="select-wrapper-smart">
            <select id="tipo-contrato" onchange="updateButtonState()">
              <option value="">Seleccionar contrato</option>
              <option value="6-meses">üìÖ 6 meses</option>
              <option value="12-meses">üìÖ 12 meses</option>
              <option value="18-meses">üìÖ 18 meses</option>
              <option value="18-meses-plus">üìÖ M√°s de 18 meses</option>
            </select>
            <i class="fas fa-chevron-down select-arrow-smart"></i>
          </div>
        </div>

        <!-- ESPACIOS (para Cowork) -->
        <div class="filter-group-smart hidden" id="espacios-options">
          <label class="filter-label-smart">
            <i class="fas fa-chair"></i>
            Espacios
          </label>
          <div class="select-wrapper-smart">
            <select id="espacios" onchange="updateReservaOptions()">
              <option value="">Seleccionar espacios</option>
              <option value="1">1 espacio</option>
              <option value="2">2 espacios</option>
              <option value="3">3 espacios</option>
              <option value="4">4 espacios</option>
              <option value="5">5 espacios</option>
              <option value="6">6 espacios</option>
              <option value="7">7 espacios</option>
              <option value="8">8 espacios</option>
              <option value="9">9 espacios</option>
              <option value="10+">10+ espacios</option>
            </select>
            <i class="fas fa-chevron-down select-arrow-smart"></i>
          </div>
        </div>

        <!-- TIPO DE RESERVA -->
        <div class="filter-group-smart hidden" id="reserva-options">
          <label class="filter-label-smart">
            <i class="fas fa-calendar-alt"></i>
            Tipo de reserva
          </label>
          <div class="select-wrapper-smart">
            <select id="tipo-reserva" onchange="updateTiempoOptions()">
              <option value="">Seleccionar tipo</option>
              <option value="hora">‚è∞ Por hora</option>
              <option value="dia">üìÖ Por d√≠a</option>
              <option value="semana">üìÖ Por semana</option>
              <option value="mes">üìÖ Por mes</option>
            </select>
            <i class="fas fa-chevron-down select-arrow-smart"></i>
          </div>
        </div>

        <!-- ELEGIR TIEMPO -->
        <div class="filter-group-smart hidden" id="tiempo-options">
          <label class="filter-label-smart">
            <i class="fas fa-clock"></i>
            <span id="tiempo-label">Elegir horario</span>
          </label>
          <div class="select-wrapper-smart">
            <select id="tiempo-elegido" onchange="updateButtonState()">
              <option value="">Seleccionar</option>
            </select>
            <i class="fas fa-chevron-down select-arrow-smart"></i>
          </div>
        </div>

        <!-- BOT√ìN PRINCIPAL SERVICIOS -->
        <div class="search-button-smart">
          <button id="btn-principal-servicios" type="button" onclick="procesarSolicitud()" class="btn-principal-smart">
            <i class="fas fa-search"></i>
            <span id="btn-text">Seleccionar Servicio</span>
            <span class="btn-arrow-smart"><i class="fas fa-arrow-right"></i></span>
          </button>
        </div>
      </div>
    </div>

    <!-- TAB OTROS -->
    <div class="tab-content-smart hidden" id="otros">
      <div class="filters-smart-proyectos" id="filters-container-otros">
        
        <!-- TIPO DE SERVICIO ADICIONAL -->
        <div class="filter-group-smart">
          <label class="filter-label-smart">
            <i class="fas fa-cogs"></i>
            Seleccione tipo de servicios
          </label>
          <div class="select-wrapper-smart">
            <select id="tipo-otros" onchange="updateOtrosOptions()">
              <option value="">Seleccionar</option>
              <option value="servicios-adicionales">üîß Servicios adicionales</option>
            </select>
            <i class="fas fa-chevron-down select-arrow-smart"></i>
          </div>
        </div>

        <!-- DESCRIPCI√ìN DE OTROS SERVICIOS -->
        <div class="filter-group-smart filter-group-wide hidden" id="otros-descripcion">
          <label class="filter-label-smart">
            <i class="fas fa-file-alt"></i>
            Descr√≠benos lo que necesitas
          </label>
          <div class="textarea-wrapper-smart">
            <textarea id="descripcion-otros" oninput="updateOtrosButtonState()" placeholder="Si no encuentras la soluci√≥n, podemos darte la que t√∫ necesitas" rows="4"></textarea>
          </div>
        </div>

        <!-- BOT√ìN OTROS -->
        <div class="search-button-smart">
          <button id="btn-principal-otros" type="button" onclick="procesarOtros()" class="btn-principal-smart">
            <i class="fas fa-search"></i>
            <span id="btn-text-otros">Seleccione una soluci√≥n</span>
            <span class="btn-arrow-smart"><i class="fas fa-arrow-right"></i></span>
          </button>
        </div>
      </div>
    </div>

  </div>
</div>

<!-- MODAL PARA RECOPILAR DATOS DEL CLIENTE -->
<div id="modal-datos" class="modal-overlay-smart hidden">
  <div class="modal-container-smart">
    <div class="modal-header-smart">
      <h3><i class="fas fa-user"></i> Informaci√≥n de Contacto</h3>
      <button onclick="cerrarModal('modal-datos')" class="modal-close-smart">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="modal-body-smart">
      <div class="datos-cliente-form">
        <div class="form-group-smart">
          <label class="filter-label-smart">
            <i class="fas fa-user"></i>
            Nombre completo *
          </label>
          <input type="text" id="nombre-cliente" placeholder="Nombre y apellido" class="input-smart" required>
        </div>
        
        <div class="form-group-smart">
          <label class="filter-label-smart">
            <i class="fas fa-phone"></i>
            Tel√©fono *
          </label>
          <input type="tel" id="telefono-cliente" placeholder="Para poderte dar una respuesta" class="input-smart" required>
        </div>
        
        <div class="form-group-smart">
          <label class="filter-label-smart">
            <i class="fas fa-envelope"></i>
            Correo electr√≥nico
          </label>
          <input type="email" id="correo-cliente" placeholder="Correo (opcional)" class="input-smart">
        </div>
      </div>
    </div>
    <div class="modal-footer-smart">
      <button onclick="validarYEnviar()" class="btn-principal-smart">
        <i class="fas fa-check"></i>
        Continuar
      </button>
      <button onclick="cerrarModal('modal-datos')" class="btn-cerrar-smart">
        Cancelar
      </button>
    </div>
  </div>
</div>

<!-- MODAL DE RESUMEN COMPACTO -->
<div id="modal-resumen" class="modal-overlay-smart hidden">
  <div class="modal-container-smart">
    <div class="modal-header-smart">
      <h3><i class="fas fa-check-circle"></i> Tu Solicitud</h3>
      <button onclick="cerrarModal('modal-resumen')" class="modal-close-smart">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="modal-body-smart" id="resumen-content">
      <!-- Contenido din√°mico -->
    </div>
    <div class="modal-footer-smart">
    </div>
  </div>
</div>

<!-- MODAL DE MANTENIMIENTO COMPACTO -->
<div id="modal-mantenimiento" class="modal-overlay-smart hidden">
  <div class="modal-container-smart maintenance-modal-smart">
    <div class="modal-header-smart maintenance-header-smart">
      <div class="maintenance-icon-smart">
        <i class="fas fa-tools"></i>
      </div>
      <h3>Reservas en Construcci√≥n</h3>
    </div>
    <div class="modal-body-smart maintenance-body-smart">
      <div class="maintenance-content-smart">
        <div class="progress-bar-smart">
          <div class="progress-fill-smart"></div>
        </div>
        <p><strong>Integrando sistema de reservas:</strong></p>
        <div class="banks-grid-smart">
          <div class="bank-item-smart">
            <i class="fas fa-university"></i>
            <span>BAC Credomatic</span>
          </div>
          <div class="bank-item-smart">
            <i class="fas fa-university"></i>
            <span>Ficohsa</span>
          </div>
          <div class="bank-item-smart">
            <i class="fas fa-university"></i>
            <span>Promerica</span>
          </div>
          <div class="bank-item-smart">
            <i class="fas fa-mobile-alt"></i>
            <span>Zora API</span>
          </div>
        </div>
        <p class="maintenance-message-smart">
          <strong>¬°Muy pronto!</strong><br>
          Cont√°ctanos para procesar tu reserva.
        </p>
      </div>
    </div>
    <div class="modal-footer-smart">
      <button onclick="enviarSolicitudFinal()" class="btn-contactar-smart">
        <i class="fas fa-phone"></i>
        Contactar
      </button>
      <button onclick="cerrarModal('modal-mantenimiento')" class="btn-cerrar-smart">
        Cerrar
      </button>
    </div>
  </div>
</div>